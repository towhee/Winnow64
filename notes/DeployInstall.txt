The installer is located on DigitalOcean at http://165.227.46.158/winnow_win/
and http://165.227.46.158/winnow_mac/

For windows PuTTY Key generator and winscp for file transfers.

For Mac:
---------------------------------------------------------------------
Mac Deployment: (located in /Users/roryhill/Projects/WinnowInstall/Batch/DeployOnMac)
cd /Users/roryhill/Projects/build-winnow64-Desktop_Qt_5_12_0_clang_64bit-Release
/Users/roryhill/Qt/5.12.0/clang_64/bin/macdeployqt Winnow.app -dmg

Useful paths:
/Users/roryhill/Projects/WinnowInstall/packages/com.rh.bin/data
/Users/roryhill/Projects/build-winnow64-Desktop_Qt_5_12_0_clang_64bit-Release
/Users/roryhill/Qt/Tools/QtInstallerFramework/3.0/bin/

INSTALLATION COMMANDS:

cd /Users/roryhill/Projects/WinnowInstall

#Copy app from release to local install packages:
cp -r /Users/roryhill/Projects/build-winnow64-Desktop_Qt_5_12_0_clang_64bit-Release/Winnow.dmg packages/com.rh.bin/data


#Update the repository:
rm -r repository
/Users/roryhill/Qt/Tools/QtInstallerFramework/3.0/bin/repogen -p packages --update-new-components repository

#Create the installer "winnow installer"
/Users/roryhill/Qt/Tools/QtInstallerFramework/3.0/bin/binarycreator --online-only -c config/config.xml -p packages winnow.dmg

#Start the sftp to copy to server:
sftp root@165.227.46.158
cd /var/www/html/winnow_mac
put -r /Users/roryhill/Projects/WinnowInstall/repository
put -r /Users/roryhill/Projects/WinnowInstall/winnow.dmg

# if updating on windows ignore html files
#cd ../winnow
#put /Users/roryhill/Projects/Winnow64/Docs/winnow.html
#put /Users/roryhill/Projects/Winnow64/Docs/versions.html 
exit


For Win: 
---------------------------------------------------------------------
Win Deployment:  IMPORTANT WHEN CHANGE VERSIONS OF QT!

CD "D:\My Projects\Winnow Project\Deploy Winnow"     (use as temp location as cannot write to folders in "c:\program files"
C:\Qt\5.12.0\msvc2017_64\bin\windeployqt.exe "D:\My Projects\Winnow Project\Winnow64\release\Winnow.exe" --dir "D:\My Projects\Winnow Project\Deploy Winnow"
C:\Qt\5.12.0\msvc2017_64\bin\windeployqt.exe "D:\My Projects\Winnow Project\Winnow64\release\Winnow.exe" --plugindir "D:\My Projects\Winnow Project\Deploy Winnow"
then copy files and folders to D:\My Projects\Winnow Project\WinnowInstallOnline\packages\com.rh.prod\data
and D:\My Projects\Winnow Project\WinnowInstallLocal\packages\com.rh.prod\data

Win Installation Update:
-  Update deploy if new dlls required
-  Update version in mainwindow.h
-  Update winnow.exe by compiling in release mode without shadow build
-  Edit in creator Docs/versions.html (don't forget to save) server loc = http://165.227.46.158/winnow/versions.html
   - when run onlineinstallation.bat it will copy winnow.html to server
-  Update and save the version in D:\My Projects\Winnow Project\WinnowInstall\Config\config.xml
-  Update and save the version and release date in
   D:\My Projects\Winnow Project\WinnowInstall\packages\com.rh.bin\meta\package.xml
-  If changes other than binary update and save the releaseDate in
   D:\My Projects\Winnow Project\WinnowInstall\packages\com.rh.prod\meta\package.xml
-  Run the batch file: D:\My Projects\Winnow Project\WinnowInstall\onlineinstallation.bat
    - changes drive to D:
    - changes dir to D:\My Projects\Winnow Project\WinnowInstallOnline
    - copies winnow.exe from release to package
    - recreates the repository in D:\My Projects\Winnow Project\WinnowInstallOnline
    - creates a new binary installer winnowinstalleronline.exe
    - runs WinSCP script (installscript.txt) to copy repository and winnowinstalleronline.exe
      to http://165.227.46.158/winnow_win/  and copy D:\My Projects\Winnow Project\Docs\winnow.html
      to http://165.227.46.158/winnow
- Open C:\Program Files\Winnow\Winnow.exe and perform update if auto update is enabled or perform
  "Help > Check for updates" to confirm that the update works.
  Or run C:\Program Files\Winnow\maintenancetool.exe to update Winnow on local machine.

Run 165.227.46.158/winnow_win/winnowinstalleronline.exe for new installation of Winnow.
This is available on the Winnow Main Page at http://165.227.46.158/winnow/winnow.html

Clean up orphaned entries in Apps and Features by deleting registry entries at
Computer\HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Uninstall\

---------------------------------------------------------------------

Win Manual Installation Update:
d:
CD "D:\My Projects\Winnow Project\WinnowInstallOnline"
copy /Y "D:\My Projects\Winnow Project\build-winnow64-Desktop_Qt_5_10_0_MSVC2017_64bit-Release\release\winnow.exe" packages\com.vendor.product\data
RMDIR repository /S /Q
C:\Qt\Tools\QtInstallerFramework\3.0\bin\repogen.exe -p packages repository
C:\Qt\Tools\QtInstallerFramework\3.0\bin\binarycreator.exe --online-only -c config/config.xml -p packages winnowinstalleronline.exe
"C:\Program Files (x86)\WinSCP\WinSCP.exe" /log="D:\My Projects\Winnow Project\WinnowInstallOnline\Batch\WinSCP.log" /ini=nul /script="D:\My Projects\Winnow Project\WinnowInstallOnline\Batch\installscript.txt"

Repository
Update deployment files (usually just winnow.exe) at D:\My Projects\Winnow Project\WinnowInstallOnline\packages\com.vendor.product\data
CD D:\My Projects\Winnow Project\WinnowInstallOnline
C:\Qt\Tools\QtInstallerFramework\3.0\bin\repogen.exe -p packages repository
Use winscp.exe to copy repository to DigitalOcean web server
Installer
CD D:\My Projects\Winnow Project\WinnowInstall
C:\Qt\Tools\QtInstallerFramework\2.0\bin\binarycreator.exe --offline-only -c config/config.xml -p packages winnowinstalleroffline.exe
C:\Qt\Tools\QtInstallerFramework\3.0\bin\binarycreator.exe --online-only -c config/config.xml -p packages winnowinstalleronline.exe

---------------------------------------------------------------------

WinSCP script: D:\My Projects\Winnow Project\WinnowInstallOnline\Batch\installscript.txt

open sftp://root@165.227.46.158/ -hostkey="ssh-ed25519 256 YSQ/miRu2r/jJh0GXLXRIsVocu0ffPGt+vvaGZ2lmvk=" -privatekey="D:\Documents\DigitalOcean web server\ssh digital ocean private key.ppk"

cd ../var/www/html/winnow_win
put "D:\My Projects\Winnow Project\WinnowInstallOnline\repository"
put "D:\My Projects\Winnow Project\WinnowInstallOnline\winnowinstalleronline.exe"
cd ../winnow
put "D:\My Projects\Winnow Project\Winnow64\Docs\winnow.html"

exit

End WinSCP script


winnow main page
http://165.227.46.158/winnow/winnow.html

winnow download
http://165.227.46.158/winnow_win/winnowinstalleronline.exe
