class DataModel : public QStandardItemModel

void DataModel::removeFolder(const QString &folderPath)
{
    QModelIndex parIdx = QModelIndex();
    for (int row = rowCount() - 1; row >= 0; --row) {
        QString filePath = index(row, 0).data(G::PathRole).toString();
        if (filePath.startsWith(folderPath)) {
            beginRemoveRows(parIdx, row, row);
            removeRow(row);
            qDebug() << "DataModel::removeFolder   remove row =" << row;
            endRemoveRows();
        }
    }
}

Output:
DataModel::removeFolder   remove row = 2
QSortFilterProxyModel: inconsistent changes reported by source model
DataModel::removeFolder   remove row = 1
QSortFilterProxyModel: inconsistent changes reported by source model
DataModel::removeFolder   remove row = 0
QSortFilterProxyModel: inconsistent changes reported by source model

The functionDataModel::removeFolder appears to be working correctly, but it is generating the warning
"QSortFilterProxyModel: inconsistent changes reported by source model" for each row removed. What am I doing wrong?
