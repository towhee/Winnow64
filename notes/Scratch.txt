In MW create
QHash<QString,bool>subsystemState (isIdle)
bool allIdle;

slot MW::aborted(const QString subSystem)
{
    subsystemState[subSystem] = true;

    // iterate subsystemState and if all are true then set allIdle = true;
}

MW::stop()
{
    // iterate subsystemState and set to subsyster.isIdle()

    G::stop   = true;
    dm->abort = true;
    allIdle = false;

    // initiate abort
    metaRead->abortReadersAsync();
    imageCache->abortProcessingAsync();
    buildFilters->abortIfRunningAsync();

    // wait for allIdle == true
}
